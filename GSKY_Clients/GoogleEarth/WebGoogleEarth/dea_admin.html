<!DOCTYPE html>
<html lang="en">
<head>
<base href="http://130.56.242.19/">
<title>GSKY via Google Earth Web</title>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css">
<link rel="stylesheet" href="custom.css"> <!-- AVS: Added to change the styles of buttons -->
<script>
var url = document.location.href;
if(url.indexOf('index.html') >= 0) url = url.replace('index.html','m_dea.html');
else url = 'm_dea.html';
(function(a,b){if(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(a)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(a.substr(0,4)))window.location=b})(navigator.userAgent||navigator.vendor||window.opera,url);
</script>
<style type="text/css">
.auto-style1 {
	font-size: x-small;
}
</style>
</head>
<body style="background-image:url('/images/bg-page.png')">
<div class="container">
    <table class="jumbotron hidden-xs" style="width:100%">
		<tr>
			<td style="width:20%">
				<img alt="NCI" src="https://nci.org.au/wp-content/uploads/2018/09/NCI-Australia-and-Text-website-2-2.png" style="width:300px">
			</td>
			<td style="text-align:right">
				<img alt="GSKY" src="https://gsky.nci.org.au/img/logo.svg" width="150">
			</td>
			<td style="white-space:nowrap">
				<h3>GskyGE: Wrapper for Google Earth Web - <b>DEA</b></h3>
				(Click here for <a href="geoglam.html">GEOGLAM</a>)
				
				<br><h5>Powered by: <b>Google Earth Web</b> and <b>GSKY from NCI</b></h5>
			</td>
		</tr>
    </table>
<!--    <div> -->
	<div id="top_section" style="display:block">
		<div class="content-container" style="font-size:small">
		<article>
			<tldr>
			<h3>What's This?</h3>
				This page will create the <b>KML</b> (Keyhole Markup Language) files to extend the functionality of 
				<a href="https://earth.google.com/web/" target="_blank"><b>Google Earth Web</b></a> (<b>GEWeb</b>) 
				to display GSKY layers in both spatial and temporal dimensions. <br><br>
			<div style="background-color:#C6D2CE">
			<b>A quirk of Google Earth Web</b>:<br>
				The data retrieval goes to sleep if there is no mouse activity.
				Move or click the mouse occasionally to keep it going.
			</div>
			</tldr>
		</article>
		</div>
		<div class="content-container" style="display:block">
		<article>
			<tldr>
				<h3>How to create the KML File:</h3>
				<small>
					- Select the required GSKY layer.<br>
					- Select the geographical region. <br>
					- Select data acquisition date(s).<br>
					- Select the required resolution.<br>
					- Click '<b>Create KML</b>' for a link to download the file.<br>
				</small>        
			</tldr>
			<div class="content-container" id="Create_KML" style="display:block">
			<details>
				<section>
					<ul>
					<li>
						<small>Choose '<b>Unlisted</b>' to manually enter its BBox.</small>
						<ul>
							<li><small>Use the <b>BBox Finder</b> <img src="/images/bbox_finder_1.png" height="25" alt="BBox Finder" title="BBox finder to define an area" onmousedown="ShowHideBBoxFinder(document.BBox_finder)" width="40"> to get the bounding box.</small></li>
						</ul>
					</li>
					<li>
						<small>Only one date can be chosen at a time, but can combine many KMLs.</small>
					</li>
					<li>
						<small>Low resolution is to see a larger area.</small>
					</li>
					<li>
						<small>High resolution will let zooming in, but takes longer to display.</small>
					</li>
					<li>
						<small>Use a small BBox or pick a point <img src="/images/zoom_1.png" width="25px" alt="Zoom" title="Pick a point to define a smaller area" onmousedown="showHideToggle('zoom_box'); showHide('n_tiles','span','none')"> to zoom in or around it.</small>
					</li>
					<li>
							<small>Open the KML via the <img src="my_places.png" alt="My Places" title="My Places"> <i><small><b>My Places | IMPORT KML FILE</b></small></i> link in <b><a href="https://earth.google.com/web/">GEWeb</a></b></small>.
					</li>
					</ul>
				</section>
			</details>
			</div>
		</article>
		</div>
	</div>
	<div style="text-align:left; width:100%">
	<form id="google_earth" name="google_earth" method="POST" action="google_earth.cgi">
    <table class="jumbotron hidden-xs-" style="width:100%; display:block;">
		<tr>
			<td style="width:20%; text-align:right; font-weight:bold; padding-right:10px" rowspan="6">
				<img src="/images/dea_australia.png" alt="DEA">
			</td>
			<td style="width:20%; text-align:right; font-weight:bold; font-size:12px; padding-right:10px">
				Layer:
			</td>
			<td style="width:10%; padding-top:0px; ">
				<select name="layer" style="width:300px; font-size:12px; background-color:#F7F5D7" onchange="InsertTimes(this,'dea');">
					<option value="">DEA</option>
					<option value="landsat5_geomedian|LS5 terrain corrected surface reflectance geometric median">LS5 terrain corrected surface reflectance geometric median</option>
					<option value="landsat7_geomedian|LS7 terrain corrected surface reflectance geometric median">LS7 terrain corrected surface reflectance geometric median</option>
					<option value="landsat8_geomedian|LS8 terrain corrected surface reflectance geometric median">LS8 terrain corrected surface reflectance geometric median</option>
					<option value="landsat5_nbar_16day|16-day LS5 surface reflectance">16-day LS5 surface reflectance</option>
					<option value="landsat5_nbart_16day|16-day LS5 terrain corrected surface reflectance">16-day LS5 terrain corrected surface reflectance</option>
					<option value="landsat7_nbar_16day|16-day LS7 surface reflectance" selected="selected">16-day LS7 surface reflectance</option>
					<option value="landsat7_nbart_16day|16-day LS7 terrain corrected surface reflectance">16-day LS7 terrain corrected surface reflectance</option>
					<option value="landsat8_nbar_16day|16-day LS8 surface reflectance">16-day LS8 surface reflectance</option>
					<option value="landsat8_nbart_16day|16-day LS8 terrain corrected surface reflectance">16-day LS8 terrain corrected surface reflectance</option>
					<option value="landsat5_nbar_daily|Daily LS5 surface reflectance">Daily LS5 surface reflectance</option>
					<option value="landsat5_nbart_daily|Daily LS5 terrain corrected surface reflectance">Daily LS5 terrain corrected surface reflectance</option>
					<option value="landsat7_nbar_daily|Daily LS7 surface reflectance">Daily LS7 surface reflectance</option>
					<option value="landsat7_nbart_daily|Daily LS7 terrain corrected surface reflectance">Daily LS7 terrain corrected surface reflectance</option>
					<option value="landsat8_nbar_daily|Daily LS8 surface reflectance">Daily LS8 surface reflectance</option>
					<option value="landsat8_nbart_daily|Daily LS8 terrain corrected surface reflectance">Daily LS8 terrain corrected surface reflectance</option>
					<option value="sentinel2_nbart_daily|Sentinel 2 Analysis Ready Data">Sentinel 2 Analysis Ready Data</option>
					<option value="wofs|DEA Water Observation Feature Layer">DEA Water Observation Feature Layer</option>
				</select>
			</td>
			<td rowspan="7" style="background-color:auto; vertical-align:top">
				<span id="n_tiles" style="display:none; width:210px;">&nbsp;</span>
<!--
				<div id="zoom_box" style="display:none; width:302px; font-size:small">
				<hr>
					<strong>To zoom in on a region:</strong>
				<ol>
					<li>Open the BBox Finder.
					</li>
					<li>Move crosshair to location.</li>
					<li><input type="text" name="crosshair0" style="background-color:#F7F5D7" title="Click the paste icon or manually enter West,South coordinates.">
					<img src="copy_paste.png" width="15px" alt="Copy and Paste" title="Insert the selected location point" onmousedown="GetBBoxValue(2);"> Paste
					</li>
					<li>Choose tiles: 
					<select name="zoom_size0" title="Number of tiles around the crosshair">
						<option value="0">1</option>
						<option value="1">9</option>
						<option value="2" selected="selected">25</option>
						<option value="3">49</option>
						<option value="4">81</option>
						<option value="5">121</option>
					</select>&nbsp;
					
					</li>
					<li><input type="text" name="region_title0" style="background-color:#F7F5D7"> Title (optional)</li>
					<li>
					<img src="/images/tick.png" alt="Copy and Paste" title="Calculate and insert the selected BBox values" onmousedown="CalculateBBox(); "> Create KML</li>
				</ol>
				</div>
-->
			</td>
		</tr>
		<tr>
			<td style="width:20%; text-align:right; font-weight:bold; font-size:12px; padding-right:10px">
				Region:
			</td>
			<td style="width:1%; padding-top:0px">
				<select name="region" style="width:300px; font-size:12px; padding:0px; background-color:#F7F5D7" onchange="GetCoordinates(this.form,this); CountTheTiles(this.form)">
					<option value="Australia">Australia</option>
					<option value="Canberra">Canberra</option>
					<option value="UNLISTED">User-defined</option>
					<option value="ACT">ACT</option>
					<option value="NT">Northern Territory</option>
					<option value="NSW">New South Wales</option>
					<option value="QLD">Queensland</option>
					<option value="SA">South Australia</option>
					<option value="TAS">Tasmania</option>
					<option value="VIC">Victoria</option>
					<option value="WA"> Western Australia</option>
				</select>
			</td>
		</tr>
		<tr>
			<td style="width:20%; text-align:right; font-weight:bold; font-size:12px; padding-right:10px">
				BBox:
			</td>
			<td style="width:1%; padding-top:10px; white-space:nowrap">
		<input type="text" name="bbox" style="width:300px; background-color:#F7F5D7; font-size:12px;" value="112.0,-44.0,153.0,-10.0" onchange="CountTheTiles(this.form)"><span onmousedown="BlankBboxInputBox(document.forms.google_earth.bbox)"><img src="sm_cross.png" alt="Blank Input" title="Blank the BBox value"></span>
<!--			<input type="button" value="BBox Finder" title="Show/Hide BBox Finder" style="height:18px; font-size:10px; font-weight:bold; color:blue" onclick="ShowHideBBoxFinder(document.BBox_finder)">-->
			<img src="/images/bbox_finder_1.png" height="20" alt="BBox Finder" title="BBox finder to define an area" onmousedown="ShowHideBBoxFinder(document.BBox_finder)" width="40">
			<img src="/images/copy_paste.png" width="15px" alt="Copy and Paste" title="Insert the selected BBox values" onmousedown="GetBBoxValue(1);">
			&nbsp;&nbsp;&nbsp;
			</td>
		</tr>
		<tr>
			<td style="width:20%; text-align:right; font-weight:bold; font-size:12px; padding-right:10px">
				Crosshair:
			</td>
		<td style="white-space:nowrap">
					<input type="text" name="crosshair" style="width:300px; font-size:12px; background-color:#F7F5D7" title="Move the crosshair into position or manually enter W,S coordinates.">
					<select name="zoom_size" title="Number of tiles around the crosshair" class="auto-style1">
						<option value="0">1</option>
						<option value="1">9</option>
						<option value="2" selected="selected">25</option>
						<option value="3">49</option>
						<option value="4">81</option>
						<option value="5">121</option>
					</select>&nbsp;
					<img src="/images/zoom_1.png" alt="Zoom" title="Zoom in around crosshair" onmousedown="ZoomInAroundCrosshair(); showHide('n_tiles','span','block')">
		</td>
		</tr>
		<tr>
			<td style="width:20%; text-align:right; font-weight:bold; font-size:12px; padding-right:10px">
				Label:
			</td>
		<td>
					<input type="text" name="region_title" title="Label for the crosshair point" style="width:300px; font-size:12px; background-color:#F7F5D7">
		</td>
		</tr>
		<tr>
			<td style="width:20%; text-align:right; font-weight:bold; font-size:12px; padding-right:10px">
				Date:
			</td>
			<td style="width:1%; padding-top:10px">
				<span id="times" style="display:block;"><select name="time" style="width:300px; background-color:#F7F5D7"><option value="1999-08-16">1999-08-16</Option></select></span>
			</td>
		</tr>
		<tr>
			<td>&nbsp;</td>
			<td style="width:20%; text-align:right; font-weight:bold; font-size:12px; padding-right:10px">
				Resolution:
			</td>
			<td style="width:1%; padding-top:10px">
				<span id="resolutions" style="display:block;">
					<select name="resolution" style="width:300px; background-color:#F7F5D7" onchange="CountTheTiles(this.form)">
						<option value="3">Standard (3&deg;x3&deg; Tiles)</Option>
						<option value="0.1">High (0.1&deg;x0.1&deg; Tiles)</Option>
					</select>
				</span>
			</td>
		</tr>
		<tr>
			<td style="width:100%; text-align:left; font-weight:bold; padding-right:10px" colspan="2">
				<input type="button" value="Create KML" style="color:blue" onclick="ValidateInput(document.forms.google_earth,2);">
				<input type="checkbox" name="create_tiles" value="create_tiles"> To create tiles (Admin only)<br>
				<span id="kml" style="display: none"></span>
				<span id="killed" style="display: none"></span>
			</td>
		</tr>
	</table>
	</form>
	</div>
	<div id="bbox_finder" style="width:100%; display:none; color:blue; font-size:10px; font-weight:bold">
		<span style="width:80%;">Click <img src="square.png" alt="Square" title="Third button below for 'Draw a rectangle'"> and draw a box. Click the paste icon <img src="copy_paste.png" width="15px" alt="Box" title="Third line from bottom"> to insert the value.</span><span style="width:20%; text-align:right; padding-left:10px"><img src="cross.png" alt="Close" title="Close BBox Finder" onclick="showHideToggle('Details', 'div'); showHideToggle('bbox_finder', 'div'); "></span><br>
		<iframe id="BBox_finder" style="width:100%; height:600px"></iframe>
	</div>
    <div class="content-container" id="Details" style="display:block">
    <details>
        <section>
		<h2>Details</h2>
		Many GIS clients such as <b>TerriaMap, ArcGIS, QGIS, NASA WorldWind</b> and <b>Google Earth Desktop (GE)</b> support the WMS services.
		They request the Capability statement via a GSKY server URL. Thereafter the "GetMap" requests are 
		based on the visible Lat/Lon coordinates on the screen. 

		<br><br>
			<strong>GEWeb</strong> does not have a WMS support as above. However, it can send the GetMap requests
		via a KML file. This allows us to manually request the data for any region by specifying the
		coordinates and the date of data acquisition. The latter is very useful, as all other clients except
		TerriaMap can only show the latest time slice.

		<br><br>
		While <strong>GE</strong> works almost similar to TerriaMap, it lacks the ability to display time layers.
			i.e. when using their WMS service there is no way to specify a time layer as e.g. <i>TIME=2001-01-01</i>.
		
		<br><br>
		Here we provide a way to create functional KML files where the time and Lat/Lon coordinates are coded
		via web-based controls. Such KML files can be opened in <strong>GEWeb</strong>. (Note: Currently the KMLs are not compatible with 
			<strong>GE</strong>, but we are working on it!)
		
        <br><br>
        	There will be a <strong>GSKY</strong> layer for each KML file imported. The layers will stay permanently and hence
		you do not have to recreate the files every time. 
		
		<br><br>
			It is required to create a new KML file to see another time layer or
		another bounding box. Unlike in the WMS service, you cannot simply pan to a different part of the globe and get the layers
		re-displayed as you move. 

		<br><br>
			It is possible to zoom in/out, and the <strong>GSKY</strong> layers will get smaller/bigger but their resolution will not change. To see a smaller region,
		select one from the "<strong>Region</strong>" dropdown, draw a box to 
			get the <strong>BBox</strong> values or zoom in around a point.
		
        <br><br> 
        <b>Notes:</b><br>
        <ul>
        <li>
	        <strong>GEWeb</strong>  currently works only in Google Chrome.
        </li>
        <li>
	        The dataset is available only for Australa. 
        <ul>
			<li>
				We may add more regions in the future.
			</li>
			<li>
				You can manually specify the Lat/Lon coordinates of any region.
			</li>
        </ul>
        </li>
        </ul>
        <b>TIPs:</b><br>
        <ul>
        <li>
	        <strong>GEWeb</strong> goes to sleep if there is no mouse activity for a while.<br>
	        - Move or click the mouse over the globe occasionally to speed up the display.
        </li>
        </ul>
	</section>
	</details>
	</div>
	<hr>
	<small><small>
	Copyright &copy; 2019, National Computational Infrastructure (<a href="http://nci.org.au/">NCI</a>), Canberra, ACT 2601, Australia.
	
	Author: Dr. Arapaut V. Sivaprasad. Created on: 31 March, 2019.
	</small></small>
	<hr>
</div>
<script src="ajax.js"></script>
</body>
</html>